using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace M319_Test
{
  internal class Program
  {
    static void Main(string[] args)
    {
      int startyear = InputYear("start year");
      int endyear = InputYear("end year");
      PrintAllLeapYears(startyear, endyear);
      Console.ReadLine();
    }

    static int InputYear(String text1)      
    {
      bool ok = false;
      int year = 0;

      do
      {
          Console.Write("please enter {0} between 0 and 5000: ", text1);
          ok = Int32.TryParse(Console.ReadLine(), out year);
        if (ok) ok = year >= 0 && year <= 5000;


      } while (!ok);
      return year;
    }
	


  static void PrintAllLeapYears(int min, int max)  
  {
      for (int i = min; i <= max; i++) 
      {
        if (i % 400 == 0)
          Console.Write(i + ", ");

        else if (i % 4==0 && i % 100 != 0 )
        Console.Write(i + ", ");

      }
      Console.ReadKey();
      
  }

}

  }

                static void Main(string[] args)
        {


            int startYear = InputYear("start year");
            int endYear;

            do
            {
                endYear = InputYear("end year");

                if (endYear >= startYear)
                {
                    break;
                }

                Console.WriteLine("End year must be greater than or equal to start year.");
            } while (true);

            PrintAllLeapYears(startYear, endYear);
            Console.ReadLine();
        }

        static int InputYear(string yearType)
        {
            int year;

            do
            {
                Console.Write("Enter Year: ");
                string input = Console.ReadLine();

                if (int.TryParse(input, out year) && year >= 0 && year <= 5000)
                {
                    break;
                }

                Console.WriteLine("Invalid input. Please enter a valid year between 0 and 5000.");
            } while (true);

            return year;
        }

        static void PrintAllLeapYears(int startYear, int endYear)
        {
            Console.WriteLine("Leap years between {0} and {1}:", startYear, endYear);

            for (int year = startYear; year <= endYear; year++)
            {
                if (IsLeapYear(year))
                {
                    Console.WriteLine(year);
                }
            }
        }

        static bool IsLeapYear(int year)
        {
            return (year % 4 == 0 && year % 100 != 0) || (year % 400 == 0);
        }
    }
}




